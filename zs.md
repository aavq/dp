–ö–æ—Ä–æ—Ç–∫–æ: –≤—Å—ë –Ω–æ—Ä–º–∞–ª—å–Ω–æ üëç
`-zsh` –≤ –≤—ã–≤–æ–¥–µ `ps` ‚Äî —ç—Ç–æ **–Ω–µ –±–∞–≥**, –∞ –ø—Ä–∏–∑–Ω–∞–∫ —Ç–æ–≥–æ, —á—Ç–æ —É —Ç–µ–±—è –∑–∞–ø—É—â–µ–Ω **login-shell zsh**.

–†–∞–∑–±–µ—Ä—ë–º—Å—è –ø–æ –ø—É–Ω–∫—Ç–∞–º –∏ –≤–µ—Ä–Ω—ë–º—Å—è –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ —Å `~/.zshrc`.

---

## 1. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç `-zsh` –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –æ–∫

* `ps -p $$ -o comm=` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–∏–º—è –∫–æ–º–∞–Ω–¥—ã**, –∫–æ—Ç–æ—Ä–æ–π –∑–∞–ø—É—â–µ–Ω —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å.
* –õ–∏–¥–∏—Ä—É—é—â–∏–π –¥–µ—Ñ–∏—Å (`-zsh`) –æ–∑–Ω–∞—á–∞–µ—Ç:
  üëâ *¬´—ç—Ç–æ login-shell¬ª* (–æ–±–æ–ª–æ—á–∫–∞, –∑–∞–ø—É—â–µ–Ω–Ω–∞—è –∫–∞–∫ –ª–æ–≥–∏–Ω, –∫–∞–∫ –±—É–¥—Ç–æ –ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞ –≤ —Å–∏—Å—Ç–µ–º—É).

–≠—Ç–æ —Å—Ç–∞—Ä—ã–π UNIX-–ø–∞—Ç—Ç–µ—Ä–Ω: login-shell–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –¥–µ—Ñ–∏—Å–æ–º –ø–µ—Ä–µ–¥ –∏–º–µ–Ω–µ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä:

* `-zsh`
* `-bash`

–ü–æ—ç—Ç–æ–º—É:

* `ps -p $$ -o comm=` ‚Üí `-zsh` ‚úÖ
  ‚áí —É —Ç–µ–±—è login-shell zsh.
* `echo $SHELL` ‚Üí `/bin/zsh` ‚úÖ
  ‚áí —Ç–≤–æ–π *–ª–æ–≥–∏–Ω-—à–µ–ª–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é* ‚Äî zsh.

–° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è zsh —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ: –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ zsh –∏ **–¥–æ–ª–∂–µ–Ω** —á–∏—Ç–∞—Ç—å `~/.zshrc` –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏.

---

## 2. –ó–Ω–∞—á–∏—Ç, –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –≤ –∑–∞–ø—É—Å–∫–µ zsh, –∞ –≤ —Å–∞–º–æ–º `~/.zshrc`

–†–∞–∑ –≤—Å—ë —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ zsh, –æ—Å—Ç–∞—é—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç—ã:

1. `~/.zshrc` –≤–æ–æ–±—â–µ **–Ω–µ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ;
2. `~/.zshrc` –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è, –Ω–æ **—Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–ª–∞–µ—Ç `return`/`exit`**, –∏ —Ç–≤–æ–∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è;
3. –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è/`compinit` –∑–∞–≤–µ–¥–µ–Ω—ã —Ç–∞–∫, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ç—ã –≤—Ä—É—á–Ω—É—é –¥–µ–ª–∞–µ—à—å `source ~/.zshrc`.

–ß—Ç–æ–±—ã –Ω–µ –≥–∞–¥–∞—Ç—å, –¥–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ—à–∞–≥–æ–≤–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å.

---

## 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–∏ `~/.zshrc` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

1. –û—Ç–∫—Ä–æ–π `~/.zshrc` –≤ –ª—é–±–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.
2. –°–∞–º—É—é **–ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É** (—Å–∞–º—ã–π –≤–µ—Ä—Ö) —Å–¥–µ–ª–∞–π —Ç–∞–∫–æ–π:

```zsh
echo "DEBUG: ~/.zshrc loaded (PID $$)" >&2
```

3. –°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª, **–∑–∞–∫—Ä–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª –ø–æ–ª–Ω–æ—Å—Ç—å—é**.
4. –û—Ç–∫—Ä–æ–π –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª.

–ï—Å–ª–∏ —Ç—ã –≤–∏–¥–∏—à—å —Å—Ç—Ä–æ—á–∫—É –≤—Ä–æ–¥–µ:

```text
DEBUG: ~/.zshrc loaded (PID 12345)
```

‚Äî —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ `~/.zshrc` **–∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
–ï—Å–ª–∏ –µ—ë **–Ω–µ—Ç** ‚Äî –∑–Ω–∞—á–∏—Ç, zsh –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –µ–≥–æ —Ä–µ–∞–ª—å–Ω–æ –Ω–µ —á–∏—Ç–∞–µ—Ç (–∏ —Ç–æ–≥–¥–∞ –±—É–¥–µ–º –ª–µ—á–∏—Ç—å —ç—Ç–æ).

---

## 4. –ï—Å–ª–∏ `DEBUG` –≤–∏–¥–Ω–æ (—Ç.–µ. `.zshrc` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)

–¢–æ–≥–¥–∞ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—á—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –≤ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º `.zshrc`.

### 4.1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –±–ª–æ–∫ oh-my-zsh –Ω–∞ –º–µ—Å—Ç–µ –∏ –≤—ã—à–µ —Ç–≤–æ–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

–í `.zshrc` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –±–ª–æ–∫ (–∏–º–µ–Ω–∞ —Ç–µ–º—ã/–ø–ª–∞–≥–∏–Ω–æ–≤ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è):

```zsh
export ZSH="$HOME/.oh-my-zsh"

ZSH_THEME="robbyrussell"        # –∏–ª–∏ —Ç–≤–æ—è —Ç–µ–º–∞
plugins=(git kubectl)           # —Ç–≤–æ–∏ –ø–ª–∞–≥–∏–Ω—ã

source $ZSH/oh-my-zsh.sh        # <<< —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
```

–í—Å–µ —Ç–≤–æ–∏ –¥–æ–ø. –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è, –∞–ª–∏–∞—Å—ã –∏ —Ç.–ø.) –ª—É—á—à–µ –¥–µ—Ä–∂–∞—Ç—å **–Ω–∏–∂–µ** —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞.

### 4.2. –í—ã–Ω–µ—Å–∏ —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª

–≠—Ç–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –∏ –Ω–µ –ª–æ–º–∞–µ—Ç oh-my-zsh.

–í –∫–æ–Ω—Ü–µ `~/.zshrc` (–Ω–∏–∂–µ `source $ZSH/oh-my-zsh.sh`) –¥–æ–±–∞–≤—å:

```zsh
# --- User config ---------------------------------------------------------
[[ -f ~/.zshrc.local ]] && source ~/.zshrc.local
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª `~/.zshrc.local` –∏ —Ç—É–¥–∞ –ø–µ—Ä–µ–ª–æ–∂–∏ –≤—Å–µ —Å–≤–æ–∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```zsh
# kubectl completion
if command -v kubectl >/dev/null 2>&1; then
  source <(kubectl completion zsh)
fi

# helm completion
if command -v helm >/dev/null 2>&1; then
  source <(helm completion zsh)
fi

# –∏ —Ç.–¥. –¥–ª—è –¥—Ä—É–≥–∏—Ö CLI
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:

* –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è `~/.zshrc`;
* `~/.zshrc` ‚Üí —Ç—è–Ω–µ—Ç oh-my-zsh;
* –∑–∞—Ç–µ–º —Ç—è–Ω–µ—Ç —Ç–≤–æ–π `~/.zshrc.local` —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è–º–∏;
* —Ç–µ–±–µ —É–∂–µ **–Ω–µ –Ω—É–∂–Ω–æ** —Ä—É–∫–∞–º–∏ –¥–µ–ª–∞—Ç—å `source ~/.zshrc`.

---

## 5. –ï—Å–ª–∏ `DEBUG` –Ω–µ –≤–∏–¥–Ω–æ (—Ç.–µ. `.zshrc` –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è –≤–æ–æ–±—â–µ)

–¢–æ–≥–¥–∞ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–∏—á–∏–Ω.

### 5.1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `ZDOTDIR`

–í —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–æ–º zsh:

```zsh
echo $ZDOTDIR
```

* –ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Üí zsh –∏—â–µ—Ç `.zshrc` –≤ `$HOME` (`~/.zshrc`), –∫–∞–∫ –æ–±—ã—á–Ω–æ.
* –ï—Å–ª–∏ –Ω–µ –ø—É—Å—Ç–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/Users/you/.config/zsh`) ‚Üí zsh –∏—â–µ—Ç **—Ç–∞–º**:
  –∫–æ–Ω—Ñ–∏–≥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ –ø—É—Ç–∏ `$ZDOTDIR/.zshrc`.

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ:

```zsh
mv ~/.zshrc "$ZDOTDIR/.zshrc"
# –∏–ª–∏
ln -s "$HOME/.zshrc" "$ZDOTDIR/.zshrc"
```

### 5.2. –¢–µ—Ä–º–∏–Ω–∞–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç `zsh` —Å –∫–ª—é—á–æ–º `-f` (–±–µ–∑ rc-—Ñ–∞–π–ª–æ–≤)

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏–Ω–æ–≥–¥–∞ –±—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ –≤—Ä–æ–¥–µ:

```sh
zsh -f
```

–≠—Ç–æ –∫–ª—é—á ¬´–Ω–µ —á–∏—Ç–∞—Ç—å –Ω–∏ –æ–¥–∏–Ω rc-—Ñ–∞–π–ª¬ª. –ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:

```sh
zsh
```

–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–±—Ä–∞—Ç—å ¬´–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å login shell / default shell¬ª.

---

## 6. –ß—Ç–æ —Ç–µ–±–µ –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

* **–û—Ç–≤–µ—Ç –Ω–∞ —Ç–≤–æ–π –≤–æ–ø—Ä–æ—Å:**
  `-zsh` –≤ `ps -p $$ -o comm=` ‚Äî —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –∏ –¥–∞–∂–µ –æ–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥.
  –û–Ω –ø—Ä–æ—Å—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç ¬´login-zsh¬ª. –ù–∏–∫–∞–∫–æ–π –æ—à–∏–±–∫–∏ –∑–¥–µ—Å—å –Ω–µ—Ç.

* –ü–æ –≤—ã–≤–æ–¥—É `echo $SHELL` –∏ `ps` –≤–∏–¥–Ω–æ, —á—Ç–æ:

  * —Ç–≤–æ–π –ª–æ–≥–∏–Ω-—à–µ–ª–ª ‚Äî `/bin/zsh`,
  * —Ç—ã —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—à—å –∏–º–µ–Ω–Ω–æ –≤ zsh.

–¢–æ –µ—Å—Ç—å —Å –≤—ã–±–æ—Ä–æ–º —à–µ–ª–ª–∞ –≤—Å—ë —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∏ –Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å (—Ç–∏–ø–∞ `chsh`) —Ç–µ–±–µ –Ω–µ –Ω—É–∂–Ω–æ.

–î–∞–ª—å—à–µ –≤—Å—ë —É–ø–∏—Ä–∞–µ—Ç—Å—è –≤ —Ç–æ, —á—Ç–æ–±—ã:

1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `~/.zshrc` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (—á–µ—Ä–µ–∑ `DEBUG`-—Å—Ç—Ä–æ–∫—É).
2. –†–∞–∑–ª–æ–∂–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Ç–∞–∫, —á—Ç–æ–±—ã oh-my-zsh –∂–∏–ª —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é, –∞ —Ç–≤–æ–∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –≤ `~/.zshrc.local`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–∂–µ—à—å —Å—é–¥–∞ –ø—Ä–æ—Å—Ç–æ —Å–∫–∏–Ω—É—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–≤–æ–µ–≥–æ `~/.zshrc` (–º–æ–∂–Ω–æ –∑–∞–º–∞–∑–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ `export`‚Äô—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ —Ç.–ø.), –∞ —è –∞–∫–∫—É—Ä–∞—Ç–Ω–æ —Ä–∞–∑–ª–æ–∂—É –µ–≥–æ –ø–æ —Å–µ–∫—Ü–∏—è–º (`oh-my-zsh` + —Ç–≤–æ–π `~/.zshrc.local`) —Ç–∞–∫, —á—Ç–æ–±—ã:

* –≤—Å—ë –≥—Ä—É–∑–∏–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞,
* –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ kubectl/helm –∏ –ø—Ä–æ—á–µ–≥–æ —Ä–∞–±–æ—Ç–∞–ª–æ,
* –∏ oh-my-zsh –Ω–µ –ª–æ–º–∞–ª—Å—è.



---
---
---


–ü–æ-—Ö–æ—Ä–æ—à–µ–º—É `zsh` *–∏ —Ç–∞–∫* –æ–±—è–∑–∞–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å `~/.zshrc` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏. –ï—Å–ª–∏ —Ç–µ–±–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Ä—É–∫–∞–º–∏ –¥–µ–ª–∞—Ç—å `source ~/.zshrc`, –∑–Ω–∞—á–∏—Ç –ª–∏–±–æ:

* —Ç–µ—Ä–º–∏–Ω–∞–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç **–Ω–µ zsh**,
* –ª–∏–±–æ zsh —Å—Ç–∞—Ä—Ç—É–µ—Ç —Å –∫–ª—é—á–æ–º `-f` (–±–µ–∑ rc-—Ñ–∞–π–ª–æ–≤),
* –ª–∏–±–æ –∫–æ–Ω—Ñ–∏–≥ –ª–µ–∂–∏—Ç –Ω–µ —Ç–∞–º, –≥–¥–µ –µ–≥–æ –∏—â–µ—Ç zsh (`ZDOTDIR` –∏ —Ç.–ø.).

–ù–∏–∂–µ ‚Äî –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–∞–∫ –≤—Å—ë –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤ –ø–æ—Ä—è–¥–æ–∫ –∏ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –ø–æ–ª–æ–º–∞—Ç—å oh-my-zsh.

---

## 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ zsh

–í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏:

```sh
echo $SHELL
ps -p $$ -o comm=
```

* –ï—Å–ª–∏ –æ–±–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç `zsh` (—Ç–∏–ø–∞ `/bin/zsh` –∏ `zsh`) ‚Äî —Ö–æ—Ä–æ—à–æ.
* –ï—Å–ª–∏ –≤–∏–¥–∏—à—å `bash`, `sh`, `fish` –∏ —Ç.–¥. ‚Äî —Ç–æ–≥–¥–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å—Ç–∞—Ä—Ç—É–µ—Ç –Ω–µ —Ç–æ–π –æ–±–æ–ª–æ—á–∫–æ–π.

### –°–¥–µ–ª–∞—Ç—å zsh –ª–æ–≥–∏–Ω-—à–µ–ª–ª–æ–º (—Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞)

**Linux / macOS:**

```sh
chsh -s "$(which zsh)"
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è (–∏–ª–∏ –≤—ã–π—Ç–∏/–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É).
–¢–µ–ø–µ—Ä—å *–ª—é–±—ã–π –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π —Å–µ–∞–Ω—Å* –±—É–¥–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å zsh, –∫–æ—Ç–æ—Ä–∞—è —Å–∞–º–∞ —á–∏—Ç–∞–µ—Ç `~/.zshrc`.

> –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ `chsh` —Ä—É–≥–∞–µ—Ç—Å—è ¬´Permission denied¬ª ‚Äî –µ—ë –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–¥ —Å–≤–æ–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –±–µ–∑ `sudo`, –∏/–∏–ª–∏ –æ–Ω–∞ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å.

---

## 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–∫—É–¥–∞ zsh –±–µ—Ä—ë—Ç –∫–æ–Ω—Ñ–∏–≥–∏

–í zsh:

```sh
echo $ZDOTDIR
ls -a ~ | grep zsh
```

* –ï—Å–ª–∏ `ZDOTDIR` **–ø—É—Å—Ç–æ–π**, zsh –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∂–¥—ë—Ç –∫–æ–Ω—Ñ–∏–≥–∏ –≤ `$HOME`, —Ç.–µ. —Ç–≤–æ–π `~/.zshrc` ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ.
* –ï—Å–ª–∏ `ZDOTDIR` **–∑–∞–¥–∞–Ω**, —Ç–æ zsh –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å `.zshrc` –ø–æ –ø—É—Ç–∏ `$ZDOTDIR/.zshrc`.
  –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ:

  ```sh
  ls -a "$ZDOTDIR"
  ```

  –ò, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, **–ø–µ—Ä–µ–º–µ—Å—Ç–∏** —Å–≤–æ–π –∫–æ–Ω—Ñ–∏–≥:

  ```sh
  mv ~/.zshrc "$ZDOTDIR/.zshrc"
  ```

  –∏–ª–∏ —Å–æ–∑–¥–∞–π –ª–∏–Ω–∫:

  ```sh
  ln -s "$HOME/.zshrc" "$ZDOTDIR/.zshrc"
  ```

---

## 3. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `.zshrc` —Å oh-my-zsh

–ß—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞—Ç—å oh-my-zsh, –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –≤ `~/.zshrc` –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å –µ–≥–æ –∫–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏:

```zsh
export ZSH="$HOME/.oh-my-zsh"

ZSH_THEME="robbyrussell"      # –∏–ª–∏ –¥—Ä—É–≥–∞—è —Ç–µ–º–∞
plugins=(git kubectl)         # —Ç–≤–æ–∏ –ø–ª–∞–≥–∏–Ω—ã

source $ZSH/oh-my-zsh.sh      # <<< –≠–¢–£ –°–¢–†–û–ö–£ –ù–ï–õ–¨–ó–Ø –£–î–ê–õ–Ø–¢–¨
```

–í—Å—ë, —á—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å (aliases, completion‚Äô—ã –∏ —Ç.–¥.), –ª—É—á—à–µ –∫–ª–∞—Å—Ç—å **–Ω–∏–∂–µ** —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞.

–ß—Ç–æ–±—ã –∫–æ–Ω—Ñ–∏–≥ –±—ã–ª –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º –∏ –ø–µ—Ä–µ–∂–∏–≤–∞–ª –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫—É oh-my-zsh, –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —Å–≤–æ–∏ —à—Ç—É–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª.

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

–í `~/.zshrc` (–Ω–∏–∂–µ —Å—Ç—Ä–æ–∫–∏ `source $ZSH/oh-my-zsh.sh`) –¥–æ–±–∞–≤—å:

```zsh
# --- User config ---------------------------------------------------------
# –õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ oh-my-zsh –Ω–µ –±—É–¥–µ—Ç —Ç—Ä–æ–≥–∞—Ç—å
[[ -f ~/.zshrc.local ]] && source ~/.zshrc.local
```

–¢–µ–ø–µ—Ä—å –≤—Å—ë ¬´—Å–∞–º–æ–¥–µ–ª—å–Ω–æ–µ¬ª –º–æ–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –≤ `~/.zshrc.local`, –∞ –æ—Å–Ω–æ–≤–Ω–æ–π `.zshrc` –±—É–¥–µ—Ç –≤ —Å—Ç–∏–ª–µ oh-my-zsh.

---

## 4. –ü–µ—Ä–µ–Ω–æ—Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π –≤ `~/.zshrc.local`

–ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `kubectl`, `helm` –∏ —Ç.–ø.:

`~/.zshrc.local`:

```zsh
# kubectl completion
if command -v kubectl >/dev/null 2>&1; then
  source <(kubectl completion zsh)
fi

# helm completion
if command -v helm >/dev/null 2>&1; then
  source <(helm completion zsh)
fi

# k9s, kind, etc. ‚Äî –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏
```

–ï—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å —Ä–∞–±–æ—á–∏–π –∫—É—Å–æ–∫ –≤ —Å—Ç–∞—Ä–æ–º `~/.zshrc`, –µ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ **–ø—Ä–æ—Å—Ç–æ –≤—ã—Ä–µ–∑–∞—Ç—å –∏ –≤—Å—Ç–∞–≤–∏—Ç—å** —Å—é–¥–∞.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ **–∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª** –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç—è–Ω—É—Ç—å `~/.zshrc` ‚Üí `oh-my-zsh` ‚Üí `~/.zshrc.local`.

---

## 5. –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–µ–ª–∞—Ç—å `source ~/.zshrc`

–¢–æ–≥–¥–∞ –ø–æ—á—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞:

1. **–¢–µ—Ä–º–∏–Ω–∞–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç zsh —Å `-f`** (–±–µ–∑ rc-—Ñ–∞–π–ª–æ–≤).
   –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø—Ä–æ—Ñ–∏–ª–µ iTerm/Terminal –º–æ–∂–µ—Ç —Å—Ç–æ—è—Ç—å –∫–æ–º–∞–Ω–¥–∞:

   ```sh
   zsh -f
   ```

   –ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –µ—ë –Ω–∞ –ø—Ä–æ—Å—Ç–æ:

   ```sh
   zsh
   ```

   –∏–ª–∏ –≤–æ–æ–±—â–µ ¬´Default login shell¬ª.

2. –õ–∏–±–æ —Ç–µ—Ä–º–∏–Ω–∞–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç *bash* –∏ –≤ –Ω—ë–º —Ç—ã –≤—Ä—É—á–Ω—É—é –¥–µ–ª–∞–µ—à—å `zsh` + `source ~/.zshrc`.

   –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ:

   * –ú–µ–Ω—è–µ–º –ª–æ–≥–∏–Ω-—à–µ–ª–ª —á–µ—Ä–µ–∑ `chsh` (—Å–º. —à–∞–≥ 1).
   * –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å—Ç–∞–≤–∏–º ¬´–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–Ω-—à–µ–ª–ª / default shell¬ª, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–æ–º–∞–Ω–¥—É `bash`.

---

## 6. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–π—Ç–∏ –ø–æ –ø—É–Ω–∫—Ç–∞–º

1. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
   `ps -p $$ -o comm=` ‚Üí –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å `zsh`.

2. –ï—Å–ª–∏ –Ω–µ `zsh` ‚Üí `chsh -s "$(which zsh)"`, –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è.

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `echo $ZDOTDIR` ‚Üí –µ—Å–ª–∏ –ø—É—Å—Ç–æ, –≤—Å—ë –æ–∫, –∏—Å–ø–æ–ª—å–∑—É–µ–º `~/.zshrc`.

4. –í `~/.zshrc` —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞ `source $ZSH/oh-my-zsh.sh`.

5. –ù–∏–∂–µ –µ—ë –¥–æ–±–∞–≤–∏—Ç—å:

   ```zsh
   [[ -f ~/.zshrc.local ]] && source ~/.zshrc.local
   ```

6. –í `~/.zshrc.local` –ø–æ–ª–æ–∂–∏—Ç—å –≤—Å–µ —Å–≤–æ–∏ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è/–∞–ª–∏–∞—Å—ã.

7. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª ‚Üí –≤—Å—ë –¥–æ–ª–∂–Ω–æ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—Ç—å—Å—è –±–µ–∑ `source ~/.zshrc`.

–ï—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å, –º–æ–∂–µ—à—å –ø—Ä–∏—Å–ª–∞—Ç—å —Å–≤–æ–π —Ç–µ–∫—É—â–∏–π `.zshrc` (–º–æ–∂–Ω–æ –±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è), —è –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –ø–µ—Ä–µ—Ä–∞–∑–ª–æ–∂—É –µ–≥–æ –Ω–∞ `~/.zshrc` + `~/.zshrc.local` –ø–æ–¥ —Ç–≤–æ—é —Å–∏—Ç—É–∞—Ü–∏—é.


---
---
---




